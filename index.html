<!DOCTYPE html>
<html lang="pt-br" dir="ltr">

<head>
  <meta charset="utf-8">
  <meta name="description" content="Dados do estudo de Núcleos UAB">
  <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#4285f4">
  <title>Grupo de pesquisa: UAB</title>

  <link rel="stylesheet" href="static/style.css">

  <!-- Assembly.css -->
  <link href="https://api.mapbox.com/mapbox-assembly/v0.21.0/assembly.min.css" rel="stylesheet">
  <script async defer src="https://api.mapbox.com/mapbox-assembly/v0.21.0/assembly.js"></script>

  <!--Timeline-->
  <link title="timeline-styles" rel="stylesheet" href="https://cdn.knightlab.com/libs/timeline3/latest/css/timeline.css">
  <script src="https://cdn.knightlab.com/libs/timeline3/latest/js/timeline.js"></script>

  <!--Awesomplete-->
  <link rel="stylesheet" href="static/awesomplete.css" />
  <script src="static/awesomplete.min.js"></script>

</head>

<body>
    <!--loading panel-->
    <div id="loading-panel" class="flex-parent flex-parent--center-cross flex-parent--center-main absolute top right bottom left bg-darken25 z5">
        <div class="flex-child loading"></div>
    </div>

  <div id="app" class="app-sidebar">
    <initial-sidebar></initial-sidebar>
    <info-ipes class="hide-visually"></info-ipes>
    <info-polos class="hide-visually"></info-polos>
  </div>
  <div id="map" style='position: fixed;top: 0;bottom: 0;width: 100%;height: 100%;'></div>

    <form class="filter-ctrl hide-visually" id="search">
      <div>
        <label for="filter-input" class="hide-visually">Pesquisar</label>
        <input id='filter-input' class="awesomplete" type='text' name='filter-input' placeholder='Pesquisar' />
      </div>
    </form>
    
    <!--layers menu-->
  <form class="hide-visually" id="menu">
    <div class="leaflet-control-layers-overlays">
      <div>
        <input type="checkbox" class="leaflet-control-layers-selector" id="ipes" checked>
        <label for="ipes"> Núcleos</label>
      </div>
      <div>
        <input type="checkbox" id="polos" class="leaflet-control-layers-selector">
        <label for="polos"> Polos</label>
      </div>
    </div>
  </form>

<script>
  $(window).on('load', function () {
    setTimeout(function () {
      $(".loading").fadeOut("slow");
      $("#loading-panel").addClass('hide-visually');
    }, 5000);

    let filterInput = document.getElementById('filter-input');
    let awesomplete = new Awesomplete(filterInput);
    const namesList = './static/json/nomes.json';

    $.getJSON(namesList, function (data) {
      awesomplete.list = data.nomes;
    });
  });

</script>
</body>

</html>
